<div class="max-w-3xl mx-auto px-4 py-8">
  <!-- Back to events navigation link -->
  <a
    routerLink="/events"
    class="inline-flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 mb-4"
  >
    <span class="text-lg">â†</span>
    Back to events
  </a>

  <!-- Title of the page: switches depending on edit/create mode -->
  <h1 class="text-3xl font-bold text-slate-800 mb-4">
    {{ isEditMode ? 'Edit event' : 'Create a new event' }}
  </h1>

  <!-- Main event form: uses Angular Reactive Forms -->
  <form
    [formGroup]="eventForm"
    (ngSubmit)="onSubmit()"
    class="space-y-4 bg-white rounded-2xl shadow-md p-6"
  >
    <!-- Title input -->
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">
        Title
        <input
          type="text"
          formControlName="title"
          class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
        />
      </label>
    </div>

    <!-- Description input -->
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">
        Description
        <textarea
          formControlName="description"
          rows="4"
          class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
        ></textarea>
      </label>
    </div>

    <!-- Location + Capacity inputs side-by-side on medium screens -->
    <div class="grid md:grid-cols-2 gap-4">
      <!-- Location field -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Location
          <input
            type="text"
            formControlName="location"
            class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </label>
      </div>

      <!-- Capacity field -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Capacity
          <input
            type="number"
            formControlName="capacity"
            class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </label>
      </div>
    </div>

    <!-- Start + End date inputs -->
    <div class="grid md:grid-cols-2 gap-4">
      <!-- Start date -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          Start date
          <input
            type="datetime-local"
            formControlName="startDate"
            class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </label>
      </div>

      <!-- End date -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">
          End date
          <input
            type="datetime-local"
            formControlName="endDate"
            class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </label>
      </div>
    </div>

    <!-- Validation errors from custom validator -->
    <div *ngIf="eventForm.errors?.['invalidDateRange']" class="text-xs text-red-500">
      End date must be after start date.
    </div>

    <div *ngIf="eventForm.errors?.['startInPast']" class="text-xs text-red-500">
      Start date cannot be in the past.
    </div>

    <!-- Submit button -->
    <button
      type="submit"
      class="mt-2 inline-flex items-center rounded-lg bg-indigo-600 text-white px-4 py-2 text-sm font-medium hover:bg-indigo-700"
    >
      Save event
    </button>
  </form>
</div>
