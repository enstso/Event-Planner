<header class="bg-white shadow-sm">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">

    <!-- Logo / Home button -->
    <a routerLink="/events" class="text-xl font-bold text-indigo-600">
      Event Planner
    </a>

    <!-- Top navigation bar -->
    <nav class="flex items-center gap-4 text-sm text-slate-700">

      <!-- Link visible only for authenticated users -->
      <a
        *ngIf="isAuthenticated | async"
        routerLink="/events"
        routerLinkActive="font-semibold text-indigo-600"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        Events
      </a>

      <!-- User's registrations link (only when logged in) -->
      <a
        *ngIf="isAuthenticated | async"
        routerLink="/events/my-registrations"
        routerLinkActive="font-semibold text-indigo-600"
      >
        My Registrations
      </a>

      <!-- Admin-only link to create a new event -->
      <a
        *ngIf="(isAuthenticated | async) && (userRole | async) === 'ADMIN'"
        routerLink="/events/new"
        routerLinkActive="font-semibold text-indigo-600"
      >
        Create Event
      </a>

      <!-- Logged-in user's email displayed in the navbar -->
      <span
        *ngIf="isAuthenticated | async"
        class="text-xs text-slate-500 border border-slate-200 rounded-lg px-2 py-1"
      >
        {{ userEmail | async }}
      </span>

      <!-- Login button visible ONLY when user is NOT authenticated -->
      <a
        *ngIf="!(isAuthenticated | async)"
        routerLink="/auth/login"
        routerLinkActive="font-semibold text-indigo-600"
      >
        Login
      </a>

      <!-- Logout button visible ONLY when user is authenticated -->
      <button
        *ngIf="isAuthenticated | async"
        class="text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg"
        (click)="onLogout()"
      >
        Logout
      </button>
    </nav>
  </div>
</header>
